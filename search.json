[{"path":"https://dragosmg.github.io/covr2gh/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2026 covr2gh authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://dragosmg.github.io/covr2gh/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Dragoș Moldovan-Grünfeld. Author, maintainer.","code":""},{"path":"https://dragosmg.github.io/covr2gh/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Moldovan-Grünfeld D (2026). covr2gh: Test Coverage Summary 'GitHub'. R package version 0.0.0.9019, https://github.com/dragosmg/covr2gh.","code":"@Manual{,   title = {covr2gh: Test Coverage Summary in 'GitHub'},   author = {Dragoș Moldovan-Grünfeld},   year = {2026},   note = {R package version 0.0.0.9019},   url = {https://github.com/dragosmg/covr2gh}, }"},{"path":"https://dragosmg.github.io/covr2gh/index.html","id":"covr2gh","dir":"","previous_headings":"","what":"Test Coverage Summary in GitHub","title":"Test Coverage Summary in GitHub","text":"{covr2gh} born need test coverage information hand reviewing pull request. Due constraints enterprise environments, often needs accomplished without depending 3rd party vendor, un-verified / unvetted GitHub Action. core functionality focuses extracting coverage data (covr::package_coverage()) presenting brief summary comment GitHub pull request (PR).","code":""},{"path":"https://dragosmg.github.io/covr2gh/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Test Coverage Summary in GitHub","text":"can install development version covr2gh GitHub :","code":"# install.packages(\"pak\") pak::pak(\"dragosmg/covr2gh\")"},{"path":"https://dragosmg.github.io/covr2gh/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Test Coverage Summary in GitHub","text":"package designed used GitHub Actions. accompanying workflow following: runs covr::package_coverage() head base branches. two high-level summary sentences (one focused overall text coverage, focused diff coverage) collapsible “Details” section containing two tables offer insight high-level summaries. produces coverage badge head branch pushes “storage” branch (_covr2gh_storage)1.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/badge_params.html","id":null,"dir":"Reference","previous_headings":"","what":"Build badge_params — badge_params","title":"Build badge_params — badge_params","text":"Take value build list value-dependent parameters injected SVG template.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/badge_params.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build badge_params — badge_params","text":"","code":"badge_params(value)"},{"path":"https://dragosmg.github.io/covr2gh/reference/badge_params.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build badge_params — badge_params","text":"value (numeric) coverage value","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/badge_params.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build badge_params — badge_params","text":"list (badge_params object) following elements: value_num: coverage value numeric (adjusted, necessary) value_char: coverage value character value_col: colour value box width_label: width label box width_value: width value box text_length_label: length label text text_length_value: length value text total_width: total badge width text_start_value: point along x-axis value text start","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/badge_value.html","id":null,"dir":"Reference","previous_headings":"","what":"Transform a coverage value into char — badge_value","title":"Transform a coverage value into char — badge_value","text":"Outputs values used downstream various helpers. input values NA NULL converts \"unknown\". values greater 100 less 0 adjusts values","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/badge_value.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transform a coverage value into char — badge_value","text":"","code":"badge_value(value, verbose = FALSE, call = rlang::caller_env())"},{"path":"https://dragosmg.github.io/covr2gh/reference/badge_value.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transform a coverage value into char — badge_value","text":"value (numeric) coverage value. Can also NA NULL verbose (logical) want messages around clamping. Default FALSE. call (call) defaults rlang::caller_env()","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/badge_value.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Transform a coverage value into char — badge_value","text":"list 2 element: num: value numeric char: value character","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/badge_value.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Transform a coverage value into char — badge_value","text":"","code":"if (FALSE) { # \\dontrun{ badge_value(26.78) } # }"},{"path":"https://dragosmg.github.io/covr2gh/reference/build_badge_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Build the URL to the badge SVG — build_badge_url","title":"Build the URL to the badge SVG — build_badge_url","text":"Build URL badge SVG","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/build_badge_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build the URL to the badge SVG — build_badge_url","text":"","code":"build_badge_url(value)"},{"path":"https://dragosmg.github.io/covr2gh/reference/build_badge_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build the URL to the badge SVG — build_badge_url","text":"value (numeric) coverage value","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/build_badge_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build the URL to the badge SVG — build_badge_url","text":"glue string.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/combine_file_coverage.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine head and base file-level coverage — combine_file_coverage","title":"Combine head and base file-level coverage — combine_file_coverage","text":"Combine head base file-level coverage","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/combine_file_coverage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine head and base file-level coverage — combine_file_coverage","text":"","code":"combine_file_coverage(head_coverage, base_coverage)"},{"path":"https://dragosmg.github.io/covr2gh/reference/combine_file_coverage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combine head and base file-level coverage — combine_file_coverage","text":"head_coverage (coverage) active / current branch (HEAD) coverage. output covr::package_coverage() head branch. base_coverage (coverage) base / target branch coverage (coverage branch merging ). output covr::package_coverage() base branch.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/combine_file_coverage.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combine head and base file-level coverage — combine_file_coverage","text":"atibble 4 columns: file: file name coverage_head: coverage head branch coverage_base coverage base branch, delta: difference coverage head base.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_comment.html","id":null,"dir":"Reference","previous_headings":"","what":"Compose a coverage comment — compose_comment","title":"Compose a coverage comment — compose_comment","text":"Compose coverage comment","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_comment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compose a coverage comment — compose_comment","text":"","code":"compose_comment(   head_coverage,   base_coverage,   repo,   pr_number,   diff_cov_target = NULL )"},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_comment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compose a coverage comment — compose_comment","text":"head_coverage (coverage) active / current branch (HEAD) coverage. output covr::package_coverage() head branch. base_coverage (coverage) base / target branch coverage (coverage branch merging ). output covr::package_coverage() base branch. repo (character) repository name GitHub format (\"OWNER/REPO\"). pr_number (integer) PR number diff_cov_target (numeric) minimum accepted diff coverage. Defaults NULL interpreted overall base branch coverage.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_comment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compose a coverage comment — compose_comment","text":"character scalar content GitHub comment","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_comment.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compose a coverage comment — compose_comment","text":"","code":"if (FALSE) { # \\dontrun{ coverage_head <- covr::package_coverage() system(\"git checkout main\") coverage_main <- covr::package_coverage()  compose_comment(   head_coverage = coverage_head,   base_coverage = coverage_main,   repo = \"<owner>/<repo>\",   pr_number = 3 ) } # }"},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_coverage_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Compose coverage summary — compose_coverage_summary","title":"Compose coverage summary — compose_coverage_summary","text":"Builds top level sentences summary.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_coverage_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compose coverage summary — compose_coverage_summary","text":"","code":"compose_coverage_summary(pr_details, delta)"},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_coverage_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compose coverage summary — compose_coverage_summary","text":"pr_details <pr_details> object representing subset pull request metadata need. output get_pr_details(). delta (numeric scalar) difference total coverage head current branch base branch.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_coverage_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compose coverage summary — compose_coverage_summary","text":"string (character scalar) containing text coverage summary.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_coverage_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compose coverage summary — compose_coverage_summary","text":"","code":"if (FALSE) { # \\dontrun{ pr_details <- get_pr_details(   repo = \"<owner>/<repo>\",   pr_number = 2 )  coverage_summary <- compose_coverage_summary(   pr_details = pr_details,   delta = 20.43 ) } # }"},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_file_coverage_details.html","id":null,"dir":"Reference","previous_headings":"","what":"Compose the file coverage details section — compose_file_coverage_details","title":"Compose the file coverage details section — compose_file_coverage_details","text":"section made subtitle (heading 3) table. input NULL, output empty string.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_file_coverage_details.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compose the file coverage details section — compose_file_coverage_details","text":"","code":"compose_file_coverage_details(file_cov_df)"},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_file_coverage_details.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compose the file coverage details section — compose_file_coverage_details","text":"file_cov_df tibble, output combine_file_coverage()","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_file_coverage_details.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compose the file coverage details section — compose_file_coverage_details","text":"glue object, string section content.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_line_coverage_details.html","id":null,"dir":"Reference","previous_headings":"","what":"Compose the line coverage details section — compose_line_coverage_details","title":"Compose the line coverage details section — compose_line_coverage_details","text":"section made subtitle (Heading 3) Markdown table. input object NULL empty string returned.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_line_coverage_details.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compose the line coverage details section — compose_line_coverage_details","text":"","code":"compose_line_coverage_details(diff_line_coverage)"},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_line_coverage_details.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compose the line coverage details section — compose_line_coverage_details","text":"diff_line_coverage tibble output get_diff_line_coverage()","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_line_coverage_details.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compose the line coverage details section — compose_line_coverage_details","text":"glue string","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_line_coverage_details.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compose the line coverage details section — compose_line_coverage_details","text":"section part \"details\" collapsible section GitHub comment.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_line_coverage_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Compose the line coverage summary — compose_line_coverage_summary","title":"Compose the line coverage summary — compose_line_coverage_summary","text":"Builds high-level sentence summarising line coverage patch.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_line_coverage_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compose the line coverage summary — compose_line_coverage_summary","text":"","code":"compose_line_coverage_summary(diff_line_coverage, target = 80)"},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_line_coverage_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compose the line coverage summary — compose_line_coverage_summary","text":"diff_line_coverage tibble output get_diff_line_coverage() target (numeric) target coverage diff. Default 80, often base total coverage used.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/compose_line_coverage_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compose the line coverage summary — compose_line_coverage_summary","text":"glue string, sentence summarising diff coverage.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/covr2gh-package.html","id":null,"dir":"Reference","previous_headings":"","what":"covr2gh: Test Coverage Summary in 'GitHub' — covr2gh-package","title":"covr2gh: Test Coverage Summary in 'GitHub' — covr2gh-package","text":"Calculate test coverage data 'covr', extract insights, post comments 'GitHub' pull requests.","code":""},{"path":[]},{"path":"https://dragosmg.github.io/covr2gh/reference/covr2gh-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"covr2gh: Test Coverage Summary in 'GitHub' — covr2gh-package","text":"Maintainer: Dragoș Moldovan-Grünfeld dragos.mold@gmail.com","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/delete_comment.html","id":null,"dir":"Reference","previous_headings":"","what":"Delete a comment — delete_comment","title":"Delete a comment — delete_comment","text":"Thin wrapper making DELETE request issue comments endpoint GitHub API.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/delete_comment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Delete a comment — delete_comment","text":"","code":"delete_comment(repo, comment_id)"},{"path":"https://dragosmg.github.io/covr2gh/reference/delete_comment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Delete a comment — delete_comment","text":"repo (character) repository name GitHub format (\"OWNER/REPO\"). comment_id (numeric) ID issue comment delete.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/delete_comment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Delete a comment — delete_comment","text":"gh_response object","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/delete_comment.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Delete a comment — delete_comment","text":"","code":"if (FALSE) { # \\dontrun{ delete_comment(\"<owner>/<repo>\", 4553) } # }"},{"path":"https://dragosmg.github.io/covr2gh/reference/derive_badge_colour.html","id":null,"dir":"Reference","previous_headings":"","what":"Derive the colour for the value part of the badge — derive_badge_colour","title":"Derive the colour for the value part of the badge — derive_badge_colour","text":"Maps value certain interval chooses corresponding colour.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/derive_badge_colour.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Derive the colour for the value part of the badge — derive_badge_colour","text":"","code":"derive_badge_colour(badge_value, colours = coverage_thresholds)"},{"path":"https://dragosmg.github.io/covr2gh/reference/derive_badge_colour.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Derive the colour for the value part of the badge — derive_badge_colour","text":"badge_value badge_value object representing coverage percentage colours (tibble) tibble 2 columns value (threshold) colour.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/derive_badge_colour.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Derive the colour for the value part of the badge — derive_badge_colour","text":"colour hexcode string","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/derive_badge_colour.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Derive the colour for the value part of the badge — derive_badge_colour","text":"","code":"if (FALSE) { # \\dontrun{ derive_badge_colour(5) } # }"},{"path":"https://dragosmg.github.io/covr2gh/reference/estimate_text_length_value.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the length of the value text — estimate_text_length_value","title":"Estimate the length of the value text — estimate_text_length_value","text":"Estimate length value text","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/estimate_text_length_value.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the length of the value text — estimate_text_length_value","text":"","code":"estimate_text_length_value(badge_value, text_length_label = 50)"},{"path":"https://dragosmg.github.io/covr2gh/reference/estimate_text_length_value.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the length of the value text — estimate_text_length_value","text":"badge_value (badge_value) output badge_value() text_length_label (numeric) length label text. Defaults 50 pixels.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/estimate_text_length_value.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate the length of the value text — estimate_text_length_value","text":"numeric representing length label text","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/estimate_width_value.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the width of the value box — estimate_width_value","title":"Estimate the width of the value box — estimate_width_value","text":"Estimate width value box","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/estimate_width_value.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the width of the value box — estimate_width_value","text":"","code":"estimate_width_value(badge_value, width_label = 60)"},{"path":"https://dragosmg.github.io/covr2gh/reference/estimate_width_value.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the width of the value box — estimate_width_value","text":"badge_value (badge_value) output badge_value() width_label (numeric) width label box. Defaults 60 pixels.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/estimate_width_value.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate the width of the value box — estimate_width_value","text":"numeric representing box value appear","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/file_cov_to_md.html","id":null,"dir":"Reference","previous_headings":"","what":"Transform the file coverage tibble into markdown — file_cov_to_md","title":"Transform the file coverage tibble into markdown — file_cov_to_md","text":"Makes column names human readable, formats data, adds interpretation column. transforms output markdown collapses single string.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/file_cov_to_md.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transform the file coverage tibble into markdown — file_cov_to_md","text":"","code":"file_cov_to_md(file_cov_df, align = \"rrrcc\")"},{"path":"https://dragosmg.github.io/covr2gh/reference/file_cov_to_md.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transform the file coverage tibble into markdown — file_cov_to_md","text":"file_cov_df tibble, output combine_file_coverage(). align Column alignment: character vector consisting 'l' (left), 'c' (center) /'r' (right). default align = NULL, numeric columns right-aligned, columns left-aligned. length(align) == 1L, string expanded vector individual letters, e.g. 'clc' becomes c('c', 'l', 'c'), unless output format LaTeX.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/file_cov_to_md.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Transform the file coverage tibble into markdown — file_cov_to_md","text":"character scalar containing markdown version diff df collapsed single string.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/file_coverage.html","id":null,"dir":"Reference","previous_headings":"","what":"Digest file coverage — file_coverage","title":"Digest file coverage — file_coverage","text":"Takes coverage object (output covr::package_coverage(), extracts \"filecoverage\" component transforms tibble. also extracts \"totalcoverage\" adds \"Overall\" row.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/file_coverage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Digest file coverage — file_coverage","text":"","code":"file_coverage(x)"},{"path":"https://dragosmg.github.io/covr2gh/reference/file_coverage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Digest file coverage — file_coverage","text":"x <coverage> object, defaults covr::package_coverage().","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/file_coverage.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Digest file coverage — file_coverage","text":"tibble 2 columns (File Coverage) summarising testing coverage file level.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/file_coverage.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Digest file coverage — file_coverage","text":"","code":"if (FALSE) { # \\dontrun{ library(covr)  covr::package_coverage(\"myawesomepkg\") |>   file_coverage() } # }"},{"path":"https://dragosmg.github.io/covr2gh/reference/generate_badge.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a coverage badge — generate_badge","title":"Generate a coverage badge — generate_badge","text":"Generate coverage badge","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/generate_badge.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a coverage badge — generate_badge","text":"","code":"generate_badge(value)"},{"path":"https://dragosmg.github.io/covr2gh/reference/generate_badge.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a coverage badge — generate_badge","text":"value (numeric scalar) percentage coverage.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/generate_badge.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate a coverage badge — generate_badge","text":"SVG string invisibly","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/generate_badge.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate a coverage badge — generate_badge","text":"","code":"generate_badge(5) generate_badge(48)"},{"path":"https://dragosmg.github.io/covr2gh/reference/get_comment_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify the covr2gh comment — get_comment_id","title":"Identify the covr2gh comment — get_comment_id","text":"Comments identified specific \"marker\", comment. hardcoded \"<!-- covr2gh---delete -->\". get_comment_id() looks marker. can find , returns comment ID, otherwise returns NULL.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/get_comment_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify the covr2gh comment — get_comment_id","text":"","code":"get_comment_id(repo, pr_number, call = rlang::caller_env())"},{"path":"https://dragosmg.github.io/covr2gh/reference/get_comment_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify the covr2gh comment — get_comment_id","text":"repo (character) repository name GitHub format (\"OWNER/REPO\"). pr_number (integer) PR number call execution environment surface error message . Defaults rlang::caller_env().","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/get_comment_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify the covr2gh comment — get_comment_id","text":"numeric scalar representing comment id NULL","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/get_comment_id.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Identify the covr2gh comment — get_comment_id","text":"output get_comment_id() used post_comment() post new comment update existing one.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/get_comment_id.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify the covr2gh comment — get_comment_id","text":"","code":"if (FALSE) { # \\dontrun{ get_comment_id(\"<owner>/<repo>\", 3) } # }"},{"path":"https://dragosmg.github.io/covr2gh/reference/get_diff_line_coverage.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the line coverage for the diff — get_diff_line_coverage","title":"Get the line coverage for the diff — get_diff_line_coverage","text":"added lines covered unit tests? several steps: get text git diff (combined diff format) extracts added lines calculates new line numbers bit shuffling head coverage data summarise line level summarises number lines added number lines covered tests file level","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/get_diff_line_coverage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the line coverage for the diff — get_diff_line_coverage","text":"","code":"get_diff_line_coverage(repo, pr_details, relevant_files, head_coverage)"},{"path":"https://dragosmg.github.io/covr2gh/reference/get_diff_line_coverage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the line coverage for the diff — get_diff_line_coverage","text":"repo (character) repository name GitHub format (\"OWNER/REPO\"). pr_details <pr_details> object representing subset pull request metadata need. output get_pr_details(). relevant_files (character) files changes coverage head_coverage (coverage) active / current branch (HEAD) coverage. output covr::package_coverage() head branch.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/get_diff_line_coverage.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the line coverage for the diff — get_diff_line_coverage","text":"tibble 3 columns: file: file name lines_added: total number lines added merging PR lines_covered: number added lines covered unit tests","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/get_diff_text.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the PR diff — get_diff_text","title":"Get the PR diff — get_diff_text","text":"Sends GET request GitHub API retrieves files modified PR. subsets includes files R/ src/.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/get_diff_text.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the PR diff — get_diff_text","text":"","code":"get_diff_text(pr_details, relevant_files, call = rlang::caller_env())"},{"path":"https://dragosmg.github.io/covr2gh/reference/get_diff_text.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the PR diff — get_diff_text","text":"pr_details <pr_details> object representing subset pull request metadata need. output get_pr_details(). relevant_files (character) files changes coverage call execution environment surface error message . Defaults rlang::caller_env().","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/get_diff_text.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the PR diff — get_diff_text","text":"character vector containing names changed files.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/get_diff_text.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get the PR diff — get_diff_text","text":"","code":"if (FALSE) { # \\dontrun{ pr_details <- get_pr_details(\"<owner>/<repo>\", 2) # TODO example relevant_files <- diff_text <- get_diff_text(pr_details, relevant_files) } # }"},{"path":"https://dragosmg.github.io/covr2gh/reference/get_pr_details.html","id":null,"dir":"Reference","previous_headings":"","what":"Get pull request details — get_pr_details","title":"Get pull request details — get_pr_details","text":"Sends GET request GitHub API fetches PR details. output contains subset , needed downstream use.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/get_pr_details.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get pull request details — get_pr_details","text":"","code":"get_pr_details(repo, pr_number, call = rlang::caller_env())"},{"path":"https://dragosmg.github.io/covr2gh/reference/get_pr_details.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get pull request details — get_pr_details","text":"repo (character) repository name GitHub format (\"OWNER/REPO\"). pr_number (integer) PR number call execution environment surface error message . Defaults rlang::caller_env().","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/get_pr_details.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get pull request details — get_pr_details","text":"object class pr_details - list following elements: repo: GitHub repository (value passed repo input argument) pr_number: pull request number (value passed pr_number argument) head_name: name current branch head_sha: sha last commit current branch base_name: name destination branch base_sha: sha recent commit destination branch pr_html_url: URL PR HTML branch diff_url: diff URL","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/get_pr_details.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get pull request details — get_pr_details","text":"","code":"if (FALSE) { # \\dontrun{ get_pr_details(\"<owner>/<myawesomerepo>\", 2) } # }"},{"path":"https://dragosmg.github.io/covr2gh/reference/get_relevant_files.html","id":null,"dir":"Reference","previous_headings":"","what":"Get changed files — get_relevant_files","title":"Get changed files — get_relevant_files","text":"Sends GET request GitHub API retrieves files modified PR. subsets includes \"relevant\" files - .e. R/ src/.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/get_relevant_files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get changed files — get_relevant_files","text":"","code":"get_relevant_files(repo, pr_number, call = rlang::caller_env())"},{"path":"https://dragosmg.github.io/covr2gh/reference/get_relevant_files.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get changed files — get_relevant_files","text":"repo (character) repository name GitHub format (\"OWNER/REPO\"). pr_number (integer) PR number call execution environment surface error message . Defaults rlang::caller_env().","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/get_relevant_files.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get changed files — get_relevant_files","text":"character vector containing names changed files.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/get_relevant_files.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get changed files — get_relevant_files","text":"","code":"if (FALSE) { # \\dontrun{ get_relevant_files(\"<owner>/covr2ghdemo\", 2) } # }"},{"path":"https://dragosmg.github.io/covr2gh/reference/line_cov_to_md.html","id":null,"dir":"Reference","previous_headings":"","what":"Transform a line coverage tibble to markdown — line_cov_to_md","title":"Transform a line coverage tibble to markdown — line_cov_to_md","text":"Adds total row, make column names readable. transforms markdown gets collapsed single string.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/line_cov_to_md.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transform a line coverage tibble to markdown — line_cov_to_md","text":"","code":"line_cov_to_md(diff_line_coverage, align = \"rrrr\")"},{"path":"https://dragosmg.github.io/covr2gh/reference/line_cov_to_md.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transform a line coverage tibble to markdown — line_cov_to_md","text":"diff_line_coverage (tibble) diff line coverage data. output combine_file_coverage() align Column alignment: character vector consisting 'l' (left), 'c' (center) /'r' (right). default align = NULL, numeric columns right-aligned, columns left-aligned. length(align) == 1L, string expanded vector individual letters, e.g. 'clc' becomes c('c', 'l', 'c'), unless output format LaTeX.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/line_cov_to_md.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Transform a line coverage tibble to markdown — line_cov_to_md","text":"markdown table string","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/post_comment.html","id":null,"dir":"Reference","previous_headings":"","what":"Post or update comment — post_comment","title":"Post or update comment — post_comment","text":"post_comment() first checks \"known\" covr2gh comment exists target pull request. , updates , , new comment posted.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/post_comment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Post or update comment — post_comment","text":"","code":"post_comment(body, repo, pr_number, new = FALSE, delete = new)"},{"path":"https://dragosmg.github.io/covr2gh/reference/post_comment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Post or update comment — post_comment","text":"body (character scalar) content body message. repo (character) repository name GitHub format (\"OWNER/REPO\"). pr_number (integer) PR number new (logical) post new comment update existing one. Defaults FALSE. delete (logical) whether delete comment. Useful posting new comments (delete old ones).","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/post_comment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Post or update comment — post_comment","text":"gh_response object containing API response","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/post_comment.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Post or update comment — post_comment","text":"","code":"if (FALSE) { # \\dontrun{ post_comment(   \"this is amazing\",   repo = \"<owner>/<repo>\",   pr_number = 3 ) } # }"},{"path":"https://dragosmg.github.io/covr2gh/reference/use_covr2gh_action.html","id":null,"dir":"Reference","previous_headings":"","what":"Set up a covr2gh GitHub Action workflow — use_covr2gh_action","title":"Set up a covr2gh GitHub Action workflow — use_covr2gh_action","text":"Sets GitHub Actions workflow calculates reports test coverage: uses covr::package_coverage(). pull request: calculates test coverage head. builds badge (use commit message). initialises switches covr2gh-storage branch. switches base branch calculates test coverage. compares coverage head base posts comment main findings. uploads base coverage badge artifacts. posts workflow summary. push main: calculates test coverage head creates badge. switches creates covr2gh-storage branch. commits badge (referenced README). uploads coverage artefact.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/use_covr2gh_action.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set up a covr2gh GitHub Action workflow — use_covr2gh_action","text":"","code":"use_covr2gh_action(badge = TRUE)"},{"path":"https://dragosmg.github.io/covr2gh/reference/use_covr2gh_action.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set up a covr2gh GitHub Action workflow — use_covr2gh_action","text":"badge (logical) badge added README? Defaults TRUE.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/use_covr2gh_action.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Set up a covr2gh GitHub Action workflow — use_covr2gh_action","text":"use_covr2gh_action() wraps usethis::use_github_action().","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/use_covr2gh_action.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set up a covr2gh GitHub Action workflow — use_covr2gh_action","text":"","code":"if (FALSE) { # \\dontrun{ use_covr2gh_action() } # }"},{"path":"https://dragosmg.github.io/covr2gh/reference/use_covr2gh_badge.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a coverage README badge — use_covr2gh_badge","title":"Add a coverage README badge — use_covr2gh_badge","text":"Inserts markdown text coverage badge usethis block (<!-- badges: start --> <!-- badges: end -->). src URL badge SVG points storage branch repo(covr2gh-storage). link points actions workflow page.","code":""},{"path":"https://dragosmg.github.io/covr2gh/reference/use_covr2gh_badge.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a coverage README badge — use_covr2gh_badge","text":"","code":"use_covr2gh_badge()"},{"path":"https://dragosmg.github.io/covr2gh/reference/use_covr2gh_badge.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add a coverage README badge — use_covr2gh_badge","text":"","code":"if (FALSE) { # \\dontrun{ use_covr2gh_badge() } # }"},{"path":"https://dragosmg.github.io/covr2gh/news/index.html","id":"covr2gh-development-version","dir":"Changelog","previous_headings":"","what":"covr2gh (development version)","title":"covr2gh (development version)","text":"use_covr2gh_action() adds covr2gh.yaml workflow file inserts README badge (use_covr2gh_badge()) {usethis} block (<!-- badges: start --> <!-- badges: end -->) exists. added GitHub Action workflow file. generate_badge() takes coverage percentage produces badge. can set coverage target diff_cov_target, e.g. compose_comment(..., diff_cov_target = 80, ...).","code":""}]
